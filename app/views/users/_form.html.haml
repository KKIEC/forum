= form_with(model: user) do |form|
  - if user.errors.any?
    %div{id: "error_explanation"}
      %h2
        = pluralize(user.errors.count, "error")
        prohibited this user from being saved:

      %ul
        - user.errors.full_messages.each do |message|
          %li
            = message

  %div{class: "field"}
    = form.label :name
    = form.text_field :name

  %div{class: "field"}
    = form.label :email
    = form.text_field :email

  %div{class: "field"}
    = form.label :password
    = form.password_field :password, placeholder: "Leave blank if unchanged"

  %div{class: "field"}
    = form.label :role_id
    = collection_select(:user, :role_id, Role.all, :id, :name, { prompt: true })

  %div{class: "actions"}
    = form.submit
